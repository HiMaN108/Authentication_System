{"ast":null,"code":"// import React, { useEffect } from 'react'\nimport toast,{Toaster}from\"react-hot-toast\";import{useFormik}from\"formik\";import{resetPasswordValidation}from\"../helper/validate.js\";import{resetPassword}from\"../helper/helper.js\";import{useAuthStore}from\"../store/store.js\";import{useNavigate,Navigate}from\"react-router-dom\";import useFetch from\"../hooks/fetch.hook.js\";import styles from\"../styles/Username.module.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Reset(){const{username}=useAuthStore(state=>state.auth);const navigate=useNavigate();const[{isLoading,status,serverError}]=useFetch(\"createResetSession\");const formik=useFormik({initialValues:{password:\"admin@123\",confirm_pwd:\"admin@123\"},validate:resetPasswordValidation,validateOnBlur:false,validateOnChange:false,onSubmit:async values=>{let resetPromise=resetPassword({username,password:values.password});toast.promise(resetPromise,{loading:\"Updating...\",success:/*#__PURE__*/_jsx(\"b\",{children:\"Reset Successfully...!\"}),error:/*#__PURE__*/_jsx(\"b\",{children:\"Could not Reset!\"})});resetPromise.then(function(){navigate(\"/password\");});}});if(isLoading)return/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:\"isLoading\"});if(serverError)return/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl text-red-500\",children:serverError.message});if(status&&status!==201)return/*#__PURE__*/_jsx(Navigate,{to:\"/password\",replace:true});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-center\",reverseOrder:false}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:styles.glass,style:{width:\"50%\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-5xl font-bold\",children:\"Reset\"}),/*#__PURE__*/_jsx(\"span\",{className:\"py-4 text-xl w-2/3 text-center text-gray-500\",children:\"Enter new password.\"})]}),/*#__PURE__*/_jsx(\"form\",{className:\"py-20\",onSubmit:formik.handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"textbox flex flex-col items-center gap-6\",children:[/*#__PURE__*/_jsx(\"input\",{...formik.getFieldProps(\"password\"),className:styles.textbox,type:\"text\",placeholder:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{...formik.getFieldProps(\"confirm_pwd\"),className:styles.textbox,type:\"text\",placeholder:\"Repeat Password\"}),/*#__PURE__*/_jsx(\"button\",{className:styles.btn,type:\"submit\",children:\"Reset\"})]})})]})})]});}","map":{"version":3,"names":["toast","Toaster","useFormik","resetPasswordValidation","resetPassword","useAuthStore","useNavigate","Navigate","useFetch","styles","jsx","_jsx","jsxs","_jsxs","Reset","username","state","auth","navigate","isLoading","status","serverError","formik","initialValues","password","confirm_pwd","validate","validateOnBlur","validateOnChange","onSubmit","values","resetPromise","promise","loading","success","children","error","then","className","message","to","replace","position","reverseOrder","glass","style","width","handleSubmit","getFieldProps","textbox","type","placeholder","btn"],"sources":["C:/Users/him20/Downloads/Authentication_System-main/Authentication_System-main/client/src/components/Reset.js"],"sourcesContent":["// import React, { useEffect } from 'react'\nimport toast, { Toaster } from \"react-hot-toast\";\nimport { useFormik } from \"formik\";\nimport { resetPasswordValidation } from \"../helper/validate.js\";\nimport { resetPassword } from \"../helper/helper.js\";\nimport { useAuthStore } from \"../store/store.js\";\nimport { useNavigate, Navigate } from \"react-router-dom\";\nimport useFetch from \"../hooks/fetch.hook.js\";\n\nimport styles from \"../styles/Username.module.css\";\n\nexport default function Reset() {\n  const { username } = useAuthStore((state) => state.auth);\n  const navigate = useNavigate();\n\n  const [{ isLoading, status, serverError }] = useFetch(\"createResetSession\");\n\n  const formik = useFormik({\n    initialValues: {\n      password: \"admin@123\",\n      confirm_pwd: \"admin@123\",\n    },\n    validate: resetPasswordValidation,\n    validateOnBlur: false,\n    validateOnChange: false,\n    onSubmit: async (values) => {\n      let resetPromise = resetPassword({ username, password: values.password });\n\n      toast.promise(resetPromise, {\n        loading: \"Updating...\",\n        success: <b>Reset Successfully...!</b>,\n        error: <b>Could not Reset!</b>,\n      });\n\n      resetPromise.then(function () {\n        navigate(\"/password\");\n      });\n    },\n  });\n\n  if (isLoading) return <h1 className=\"text-2xl font-bold\">isLoading</h1>;\n  if (serverError)\n    return <h1 className=\"text-xl text-red-500\">{serverError.message}</h1>;\n  if (status && status !== 201)\n    return <Navigate to={\"/password\"} replace={true}></Navigate>;\n\n  return (\n    <div className=\"container mx-auto\">\n      <Toaster position=\"top-center\" reverseOrder={false}></Toaster>\n\n      <div className=\"flex justify-center items-center h-screen\">\n        <div className={styles.glass} style={{ width: \"50%\" }}>\n          <div className=\"title flex flex-col items-center\">\n            <h4 className=\"text-5xl font-bold\">Reset</h4>\n            <span className=\"py-4 text-xl w-2/3 text-center text-gray-500\">\n              Enter new password.\n            </span>\n          </div>\n\n          <form className=\"py-20\" onSubmit={formik.handleSubmit}>\n            <div className=\"textbox flex flex-col items-center gap-6\">\n              <input\n                {...formik.getFieldProps(\"password\")}\n                className={styles.textbox}\n                type=\"text\"\n                placeholder=\"New Password\"\n              />\n              <input\n                {...formik.getFieldProps(\"confirm_pwd\")}\n                className={styles.textbox}\n                type=\"text\"\n                placeholder=\"Repeat Password\"\n              />\n              <button className={styles.btn} type=\"submit\">\n                Reset\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}