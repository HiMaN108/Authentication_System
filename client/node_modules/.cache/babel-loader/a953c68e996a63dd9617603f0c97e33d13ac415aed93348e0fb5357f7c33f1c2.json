{"ast":null,"code":"import React from\"react\";import{Link,useNavigate}from\"react-router-dom\";import avatar from\"../assets/profile.png\";import toast,{Toaster}from\"react-hot-toast\";import{useFormik}from\"formik\";import{passwordValidate}from\"../helper/validate\";import useFetch from\"../hooks/fetch.hook.js\";import{useAuthStore}from\"../store/store.js\";import{verifyPassword}from\"../helper/helper.js\";import styles from\"../styles/Username.module.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Password(){const navigate=useNavigate();const{username}=useAuthStore(state=>state.auth);const[{isLoading,apiData,serverError}]=useFetch(username?`/user/${username}`:null);const formik=useFormik({initialValues:{password:\"admin@123\"},validate:passwordValidate,validateOnBlur:false,validateOnChange:false,onSubmit:async values=>{let loginPromise=verifyPassword({username,password:values.password});toast.promise(loginPromise,{loading:\"Checking...\",success:/*#__PURE__*/_jsx(\"b\",{children:\" Login Successfully....!\"}),error:/*#__PURE__*/_jsx(\"b\",{children:\" Password Not Match!\"})});loginPromise.then(res=>{var _res$data;if(res!==null&&res!==void 0&&(_res$data=res.data)!==null&&_res$data!==void 0&&_res$data.token){localStorage.setItem(\"token\",res.data.token);navigate(\"/profile\");}}).catch(err=>{console.error(\"Login error:\",err);});}});if(isLoading)return/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:\"isLoading\"});if(serverError)return/*#__PURE__*/_jsxs(\"h1\",{className:\"text-xl text-red-500\",children:[\" \",serverError.message,\" \"]});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto h-screen\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-center\",reverseOrder:false}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:styles.glass,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title flex flex-col items-center\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-5xl font-bold\",children:[\" \",\"Hello \",(apiData===null||apiData===void 0?void 0:apiData.firstName)||(apiData===null||apiData===void 0?void 0:apiData.username)]}),/*#__PURE__*/_jsx(\"span\",{className:\"py-4 text-xl w-2/3 text-center text-gray-5\",children:\"Explore More by connecting with us\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"py-1\",onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile flex justify-center py-4\",children:/*#__PURE__*/_jsx(\"img\",{src:(apiData===null||apiData===void 0?void 0:apiData.profile)||avatar,className:styles.profile_img,alt:\"avatar\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"textbox flex flex-col items-center gap-6\",children:[/*#__PURE__*/_jsx(\"input\",{...formik.getFieldProps(\"password\"),className:styles.textbox,type:\"password\",placeholder:\"Password\"}),/*#__PURE__*/_jsxs(\"button\",{className:styles.btn,type:\"submit\",children:[\" \",\"Sign in\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500\",children:[\" \",\"Forgot Password\",\" \",/*#__PURE__*/_jsx(Link,{className:\"text-red-500\",to:\"/Recovery\",children:\"Recovery Now\"})]})})]})]})})]});}","map":{"version":3,"names":["React","Link","useNavigate","avatar","toast","Toaster","useFormik","passwordValidate","useFetch","useAuthStore","verifyPassword","styles","jsx","_jsx","jsxs","_jsxs","Password","navigate","username","state","auth","isLoading","apiData","serverError","formik","initialValues","password","validate","validateOnBlur","validateOnChange","onSubmit","values","loginPromise","promise","loading","success","children","error","then","res","_res$data","data","token","localStorage","setItem","catch","err","console","className","message","position","reverseOrder","glass","firstName","handleSubmit","src","profile","profile_img","alt","getFieldProps","textbox","type","placeholder","btn","to"],"sources":["C:/Users/him20/Downloads/Authentication_System-main/Authentication_System-main/client/src/components/Password.js"],"sourcesContent":["import React from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport avatar from \"../assets/profile.png\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport { useFormik } from \"formik\";\nimport { passwordValidate } from \"../helper/validate\";\nimport useFetch from \"../hooks/fetch.hook.js\";\nimport { useAuthStore } from \"../store/store.js\";\nimport { verifyPassword } from \"../helper/helper.js\";\n\nimport styles from \"../styles/Username.module.css\";\n\nexport default function Password() {\n  const navigate = useNavigate();\n\n  const { username } = useAuthStore((state) => state.auth);\n  const [{ isLoading, apiData, serverError }] = useFetch(\n    username ? `/user/${username}` : null\n  );\n\n  const formik = useFormik({\n    initialValues: {\n      password: \"admin@123\",\n    },\n    validate: passwordValidate,\n    validateOnBlur: false,\n    validateOnChange: false,\n    onSubmit: async (values) => {\n      let loginPromise = verifyPassword({\n        username,\n        password: values.password,\n      });\n      toast.promise(loginPromise, {\n        loading: \"Checking...\",\n        success: <b> Login Successfully....!</b>,\n        error: <b> Password Not Match!</b>,\n      });\n\n      loginPromise\n        .then((res) => {\n          if (res?.data?.token) {\n            localStorage.setItem(\"token\", res.data.token);\n            navigate(\"/profile\");\n          }\n        })\n        .catch((err) => {\n          console.error(\"Login error:\", err);\n        });\n    },\n  });\n\n  if (isLoading) return <h1 className=\"text-2xl font-bold\">isLoading</h1>;\n  if (serverError)\n    return <h1 className=\"text-xl text-red-500\"> {serverError.message} </h1>;\n  return (\n    <div className=\"container mx-auto h-screen\">\n      <Toaster position=\"top-center\" reverseOrder={false}></Toaster>\n\n      <div className=\"flex justify-center items-center h-screen\">\n        <div className={styles.glass}>\n          <div className=\"title flex flex-col items-center\">\n            <h4 className=\"text-5xl font-bold\">\n              {\" \"}\n              Hello {apiData?.firstName || apiData?.username}\n            </h4>\n            <span className=\"py-4 text-xl w-2/3 text-center text-gray-5\">\n              Explore More by connecting with us\n            </span>\n          </div>\n\n          <form className=\"py-1\" onSubmit={formik.handleSubmit}>\n            <div className=\"profile flex justify-center py-4\">\n              <img\n                src={apiData?.profile || avatar}\n                className={styles.profile_img}\n                alt=\"avatar\"\n              />\n            </div>\n            <div className=\"textbox flex flex-col items-center gap-6\">\n              <input\n                {...formik.getFieldProps(\"password\")}\n                className={styles.textbox}\n                type=\"password\"\n                placeholder=\"Password\"\n              />\n              <button className={styles.btn} type=\"submit\">\n                {\" \"}\n                Sign in\n              </button>\n            </div>\n\n            <div className=\"text-center py-4\">\n              <span className=\"text-gray-500\">\n                {\" \"}\n                Forgot Password{\" \"}\n                <Link className=\"text-red-500\" to=\"/Recovery\">\n                  Recovery Now\n                </Link>\n              </span>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}