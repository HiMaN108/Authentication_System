{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import avatar from'../assets/profile.png';import toast,{Toaster}from'react-hot-toast';import{useFormik}from'formik';import{registerValidation}from'../helper/validate';import convertToBase64 from'../helper/convert';import{registerUser}from'../helper/helper.js';import styles from'../styles/Username.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){const navigate=useNavigate();const[file,setFile]=useState();const formik=useFormik({initialValues:{email:'',username:'',password:''},validate:registerValidation,validateOnBlur:false,validateOnChange:false,onSubmit:async values=>{// Attach the profile image to form values\nvalues=await Object.assign(values,{profile:file||''});const registerPromise=registerUser(values);toast.promise(registerPromise,{loading:'Creating...',success:/*#__PURE__*/_jsx(\"b\",{children:\"Registered Successfully!\"}),error:/*#__PURE__*/_jsx(\"b\",{children:\"Could not Register.\"})});registerPromise.then(()=>navigate('/'));}});/** Handle file upload and convert to Base64 */const onUpload=async e=>{try{const base64=await convertToBase64(e.target.files[0]);setFile(base64);}catch(error){toast.error('Failed to upload file. Please try again.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto h-screen\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-center\",reverseOrder:false}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:styles.glass,style:{width:'45%',paddingTop:'3em'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-5xl font-bold\",children:\"Register\"}),/*#__PURE__*/_jsx(\"span\",{className:\"py-4 text-xl w-2/3 text-center text-gray-500\",children:\"Happy to join you!\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"py-1\",onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile flex justify-center py-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"profile\",children:/*#__PURE__*/_jsx(\"img\",{src:file||avatar,className:styles.profile_img,alt:\"avatar\"})}),/*#__PURE__*/_jsx(\"input\",{onChange:onUpload,type:\"file\",id:\"profile\",name:\"profile\",accept:\"image/*\",className:\"hidden\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"textbox flex flex-col items-center gap-6\",children:[/*#__PURE__*/_jsx(\"input\",{...formik.getFieldProps('email'),className:styles.textbox,type:\"email\",placeholder:\"Email*\"}),/*#__PURE__*/_jsx(\"input\",{...formik.getFieldProps('username'),className:styles.textbox,type:\"text\",placeholder:\"Username*\"}),/*#__PURE__*/_jsx(\"input\",{...formik.getFieldProps('password'),className:styles.textbox,type:\"password\",placeholder:\"Password*\"}),/*#__PURE__*/_jsx(\"button\",{className:styles.btn,type:\"submit\",children:\"Register\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500\",children:[\"Already Registered? \",/*#__PURE__*/_jsx(Link,{className:\"text-red-500\",to:\"/\",children:\"Login Now\"})]})})]})]})})]});}","map":{"version":3,"names":["React","useState","Link","useNavigate","avatar","toast","Toaster","useFormik","registerValidation","convertToBase64","registerUser","styles","jsx","_jsx","jsxs","_jsxs","Register","navigate","file","setFile","formik","initialValues","email","username","password","validate","validateOnBlur","validateOnChange","onSubmit","values","Object","assign","profile","registerPromise","promise","loading","success","children","error","then","onUpload","e","base64","target","files","className","position","reverseOrder","glass","style","width","paddingTop","handleSubmit","htmlFor","src","profile_img","alt","onChange","type","id","name","accept","getFieldProps","textbox","placeholder","btn","to"],"sources":["C:/Users/him20/Downloads/Authentication_System-main/Authentication_System-main/client/src/components/Register.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport avatar from '../assets/profile.png';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { useFormik } from 'formik';\nimport { registerValidation } from '../helper/validate';\nimport convertToBase64 from '../helper/convert';\nimport { registerUser } from '../helper/helper.js';\n\nimport styles from '../styles/Username.module.css';\n\nexport default function Register() {\n  const navigate = useNavigate();\n  const [file, setFile] = useState();\n\n  const formik = useFormik({\n    initialValues: {\n      email: '',\n      username: '',\n      password: '',\n    },\n    validate: registerValidation,\n    validateOnBlur: false,\n    validateOnChange: false,\n    onSubmit: async (values) => {\n      // Attach the profile image to form values\n      values = await Object.assign(values, { profile: file || '' });\n      const registerPromise = registerUser(values);\n\n      toast.promise(registerPromise, {\n        loading: 'Creating...',\n        success: <b>Registered Successfully!</b>,\n        error: <b>Could not Register.</b>,\n      });\n\n      registerPromise.then(() => navigate('/'));\n    },\n  });\n\n  /** Handle file upload and convert to Base64 */\n  const onUpload = async (e) => {\n    try {\n      const base64 = await convertToBase64(e.target.files[0]);\n      setFile(base64);\n    } catch (error) {\n      toast.error('Failed to upload file. Please try again.');\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto h-screen\">\n      <Toaster position=\"top-center\" reverseOrder={false} />\n\n      <div className=\"flex justify-center items-center h-screen\">\n        <div className={styles.glass} style={{ width: '45%', paddingTop: '3em' }}>\n          <div className=\"title flex flex-col items-center\">\n            <h4 className=\"text-5xl font-bold\">Register</h4>\n            <span className=\"py-4 text-xl w-2/3 text-center text-gray-500\">\n              Happy to join you!\n            </span>\n          </div>\n\n          <form className=\"py-1\" onSubmit={formik.handleSubmit}>\n            <div className=\"profile flex justify-center py-4\">\n              <label htmlFor=\"profile\">\n                <img src={file || avatar} className={styles.profile_img} alt=\"avatar\" />\n              </label>\n              <input\n                onChange={onUpload}\n                type=\"file\"\n                id=\"profile\"\n                name=\"profile\"\n                accept=\"image/*\"\n                className=\"hidden\"\n              />\n            </div>\n\n            <div className=\"textbox flex flex-col items-center gap-6\">\n              <input\n                {...formik.getFieldProps('email')}\n                className={styles.textbox}\n                type=\"email\"\n                placeholder=\"Email*\"\n              />\n              <input\n                {...formik.getFieldProps('username')}\n                className={styles.textbox}\n                type=\"text\"\n                placeholder=\"Username*\"\n              />\n              <input\n                {...formik.getFieldProps('password')}\n                className={styles.textbox}\n                type=\"password\"\n                placeholder=\"Password*\"\n              />\n              <button className={styles.btn} type=\"submit\">\n                Register\n              </button>\n            </div>\n\n            <div className=\"text-center py-4\">\n              <span className=\"text-gray-500\">\n                Already Registered? <Link className=\"text-red-500\" to=\"/\">Login Now</Link>\n              </span>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}